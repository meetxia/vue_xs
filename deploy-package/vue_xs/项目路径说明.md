# ğŸ“ é¡¹ç›®è·¯å¾„è¯´æ˜

## ğŸ¯ é¡¹ç›®æ ¹ç›®å½•

```
H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs\
```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
H:\momo-ruanjiansheji\axs_html\deploy-package\
â”‚
â”œâ”€â”€ data/                          # æ—§ç³»ç»Ÿæ•°æ®ï¼ˆç”¨äºè¿ç§»ï¼‰
â”‚   â”œâ”€â”€ users.json
â”‚   â”œâ”€â”€ novels.json
â”‚   â””â”€â”€ comments.json
â”‚
â”œâ”€â”€ vue_xs/                        # ğŸ†• æ–°é¡¹ç›®æ ¹ç›®å½•
â”‚   â”‚
â”‚   â”œâ”€â”€ frontend/                  # å‰ç«¯é¡¹ç›®
â”‚   â”‚   â”œâ”€â”€ src/                   # æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ api/              # APIè°ƒç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”‚   â”‚   â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ router/           # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ types/            # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ main.ts           # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ public/               # å…¬å…±èµ„æº
â”‚   â”‚   â”œâ”€â”€ index.html            # HTMLæ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ package.json          # ä¾èµ–é…ç½®
â”‚   â”‚   â”œâ”€â”€ vite.config.ts        # Viteé…ç½®
â”‚   â”‚   â”œâ”€â”€ tsconfig.json         # TypeScripté…ç½®
â”‚   â”‚   â”œâ”€â”€ tailwind.config.js    # Tailwindé…ç½®
â”‚   â”‚   â””â”€â”€ .env.development      # å¼€å‘ç¯å¢ƒå˜é‡
â”‚   â”‚
â”‚   â”œâ”€â”€ backend/                   # åç«¯é¡¹ç›®
â”‚   â”‚   â”œâ”€â”€ src/                   # æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/      # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ services/         # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/           # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ middlewares/      # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ types/            # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ server.ts         # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ prisma/               # Prisma ORM
â”‚   â”‚   â”‚   â”œâ”€â”€ schema.prisma     # æ•°æ®åº“Schema
â”‚   â”‚   â”‚   â””â”€â”€ migrations/       # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ scripts/              # å·¥å…·è„šæœ¬
â”‚   â”‚   â”‚   â””â”€â”€ migrate-data.ts   # æ•°æ®è¿ç§»è„šæœ¬
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ tests/                # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ package.json          # ä¾èµ–é…ç½®
â”‚   â”‚   â”œâ”€â”€ tsconfig.json         # TypeScripté…ç½®
â”‚   â”‚   â”œâ”€â”€ .env                  # ç¯å¢ƒå˜é‡
â”‚   â”‚   â””â”€â”€ ecosystem.config.js   # PM2é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ scripts/                   # é¡¹ç›®è„šæœ¬
â”‚   â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â”‚   â””â”€â”€ å¿«é€Ÿå¯åŠ¨.bat              # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚
â””â”€â”€ æ–‡æ¡£/                          # æ‰€æœ‰å¼€å‘æ–‡æ¡£
    â”œâ”€â”€ ğŸš€ç«‹å³å¼€å§‹_ä»Šå¤©å°±èƒ½åŠ¨æ‰‹.md
    â”œâ”€â”€ ä¸‰äººå›¢é˜Ÿè¯¦ç»†ä»»åŠ¡åˆ†é…è¡¨.md
    â”œâ”€â”€ ä¸‰äººå›¢é˜Ÿé‡æ„å®æ–½è®¡åˆ’_å®å¡”MySQLç‰ˆ.md
    â”œâ”€â”€ æœ¬åœ°å¼€å‘å®æ–½æŒ‡å—_XAMPPç‰ˆ.md
    â””â”€â”€ ...
```

---

## ğŸ—‚ï¸ è·¯å¾„å¯¹åº”å…³ç³»

### å¼€å‘ç¯å¢ƒï¼ˆæœ¬åœ°ï¼‰

```
é¡¹ç›®æ ¹ç›®å½•:
H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs\

å‰ç«¯å¼€å‘:
H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs\frontend\
å¯åŠ¨: cd frontend && npm run dev
è®¿é—®: http://localhost:5188

åç«¯å¼€å‘:
H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs\backend\
å¯åŠ¨: cd backend && npm run dev
è®¿é—®: http://localhost:3000

æ—§æ•°æ®ä½ç½®ï¼ˆç”¨äºè¿ç§»ï¼‰:
H:\momo-ruanjiansheji\axs_html\deploy-package\data\
```

### ç”Ÿäº§ç¯å¢ƒï¼ˆæœåŠ¡å™¨ï¼‰

```
é¡¹ç›®æ ¹ç›®å½•:
/www/wwwroot/xs.momofx.cn/

å‰ç«¯é™æ€æ–‡ä»¶:
/www/wwwroot/xs.momofx.cn/frontend/
(ç”±Nginxç›´æ¥æœåŠ¡)

åç«¯API:
/www/wwwroot/xs.momofx.cn/backend/
(ç”±PM2å®ˆæŠ¤è¿›ç¨‹è¿è¡Œ)
```

---

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

### å‰ç«¯ç¯å¢ƒå˜é‡

**å¼€å‘ç¯å¢ƒ `frontend/.env.development`ï¼š**
```env
# åç«¯APIåœ°å€ï¼ˆæœ¬åœ°å¼€å‘ï¼‰
VITE_API_BASE_URL=http://localhost:3000/api
```

**ç”Ÿäº§ç¯å¢ƒ `frontend/.env.production`ï¼š**
```env
# åç«¯APIåœ°å€ï¼ˆæœåŠ¡å™¨ï¼‰
VITE_API_BASE_URL=https://xs.momofx.cn/api
```

### åç«¯ç¯å¢ƒå˜é‡

**å¼€å‘ç¯å¢ƒ `backend/.env`ï¼š**
```env
NODE_ENV=development
PORT=3000

# æœ¬åœ°XAMPPçš„MySQL
DATABASE_URL="mysql://toefl_user:mojz168168@localhost:3306/momo_novel_db"

JWT_SECRET=dev-secret-key-12345678
```

**ç”Ÿäº§ç¯å¢ƒ `backend/.env.production`ï¼š**
```env
NODE_ENV=production
PORT=3000

# æœåŠ¡å™¨çš„MySQL
DATABASE_URL="mysql://toefl_user:mojz168168@localhost:3306/momo_novel_db"

JWT_SECRET=ç”Ÿäº§ç¯å¢ƒçš„è¶…å¼ºå¯†é’¥
```

---

## ğŸ“ æ•°æ®è¿ç§»è·¯å¾„

### è¿ç§»è„šæœ¬ä¸­çš„è·¯å¾„

```typescript
// backend/scripts/migrate-data.ts

// æ—§æ•°æ®ä½ç½®ï¼ˆç›¸å¯¹äº vue_xs/backend/scripts/ï¼‰
const oldDataPath = '../../data'

// ç­‰åŒäºï¼š
// H:\momo-ruanjiansheji\axs_html\deploy-package\data\

const usersFile = fs.readFileSync(
  path.join(__dirname, oldDataPath, 'users.json'), 
  'utf-8'
)
const novelsFile = fs.readFileSync(
  path.join(__dirname, oldDataPath, 'novels.json'), 
  'utf-8'
)
const commentsFile = fs.readFileSync(
  path.join(__dirname, oldDataPath, 'comments.json'), 
  'utf-8'
)
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨å‘½ä»¤

### Windows PowerShell

```powershell
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs

# å¯åŠ¨å‰ç«¯
cd frontend
npm run dev

# å¯åŠ¨åç«¯ï¼ˆæ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼‰
cd backend
npm run dev

# æˆ–ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬
.\å¿«é€Ÿå¯åŠ¨.bat
```

### Git Bashï¼ˆå¦‚æœå®‰è£…äº†ï¼‰

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd /h/momo-ruanjiansheji/axs_html/deploy-package/vue_xs

# å¯åŠ¨å‰ç«¯
cd frontend && npm run dev

# å¯åŠ¨åç«¯
cd backend && npm run dev
```

---

## ğŸ“¦ æ‰“åŒ…éƒ¨ç½²è·¯å¾„

### æœ¬åœ°æ‰“åŒ…

```powershell
# å‰ç«¯æ‰“åŒ…
cd H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs\frontend
npm run build
# ç”Ÿæˆ: frontend\dist\

# åç«¯æ‰“åŒ…
cd H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs\backend
npm run build
# ç”Ÿæˆ: backend\dist\
```

### ä¸Šä¼ åˆ°æœåŠ¡å™¨

```
æœ¬åœ°è·¯å¾„ â†’ æœåŠ¡å™¨è·¯å¾„

H:\...\vue_xs\frontend\dist\
    â†’ /www/wwwroot/xs.momofx.cn/frontend/

H:\...\vue_xs\backend\dist\
    â†’ /www/wwwroot/xs.momofx.cn/backend/dist/

H:\...\vue_xs\backend\prisma\
    â†’ /www/wwwroot/xs.momofx.cn/backend/prisma/
```

---

## âœ… æ£€æŸ¥æ¸…å•

### å¼€å§‹å¼€å‘å‰

- [ ] é¡¹ç›®ç›®å½•å·²åˆ›å»ºï¼š`H:\...\vue_xs\`
- [ ] XAMPPçš„MySQLæ­£åœ¨è¿è¡Œ
- [ ] æ•°æ®åº“å·²åˆ›å»ºï¼š`momo_novel_db`
- [ ] Node.jså·²å®‰è£…ï¼ˆ`node -v`ï¼‰
- [ ] Gitå·²å®‰è£…ï¼ˆ`git --version`ï¼‰
- [ ] VS Codeå·²å®‰è£…

### å‰ç«¯åˆå§‹åŒ–å

- [ ] `frontend\package.json` å­˜åœ¨
- [ ] `frontend\node_modules\` å­˜åœ¨
- [ ] `npm run dev` å¯ä»¥å¯åŠ¨
- [ ] http://localhost:5188 å¯è®¿é—®

### åç«¯åˆå§‹åŒ–å

- [ ] `backend\.env` å·²é…ç½®
- [ ] `backend\prisma\schema.prisma` å·²ç¼–å†™
- [ ] æ•°æ®åº“è¡¨å·²åˆ›å»ºï¼ˆ`npx prisma db push`ï¼‰
- [ ] `npm run dev` å¯ä»¥å¯åŠ¨
- [ ] http://localhost:3000/api/health è¿”å›ok

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: æ‰¾ä¸åˆ°é¡¹ç›®ç›®å½•ï¼Ÿ

```powershell
# ç¡®ä¿åœ¨æ­£ç¡®çš„è·¯å¾„
cd H:\momo-ruanjiansheji\axs_html\deploy-package
dir vue_xs
# åº”è¯¥èƒ½çœ‹åˆ° vue_xs æ–‡ä»¶å¤¹
```

### Q: æ•°æ®è¿ç§»æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Ÿ

```
ç¡®ä¿æ—§æ•°æ®åœ¨ï¼š
H:\momo-ruanjiansheji\axs_html\deploy-package\data\
  â”œâ”€â”€ users.json
  â”œâ”€â”€ novels.json
  â””â”€â”€ comments.json

è¿ç§»è„šæœ¬ä¼šä»è¿™é‡Œè¯»å–æ•°æ®
```

### Q: VS Codeåœ¨å“ªæ‰“å¼€ï¼Ÿ

```powershell
cd H:\momo-ruanjiansheji\axs_html\deploy-package\vue_xs
code .
```

---

**é¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œå‚è€ƒã€Šä¸‰äººå›¢é˜Ÿè¯¦ç»†ä»»åŠ¡åˆ†é…è¡¨.mdã€‹å¼€å§‹å¼€å‘ï¼** ğŸš€

