# 👥 团队协作规范

**项目：** MOMO炒饭店小说网站重构  
**团队：** 3人全栈团队  
**制定日期：** 2025-10-27

---

## 📋 团队成员

| 角色 | 姓名 | 负责范围 | 微信/联系方式 |
|------|------|---------|--------------|
| Leader/架构师 | 工程师A | 架构设计、认证系统、部署 | __________ |
| 前端负责人 | 工程师B | Vue 3前端所有页面 | __________ |
| 后端负责人 | 工程师C | Fastify后端所有API | __________ |

---

## ⏰ 工作时间

```
工作日: 周一至周五
工作时间: 09:00 - 18:00 (中午休息1.5小时)

09:00 - 09:30   晨会（Daily Standup）
09:30 - 12:00   专注开发时间
12:00 - 13:30   午餐休息
13:30 - 17:00   开发 + 联调
17:00 - 17:30   代码评审 + 提交
17:30 - 18:00   总结 + 规划明天
```

---

## 🗣️ 每日站会（Daily Standup）

### 时间与方式

- **时间：** 每天 09:00 - 09:30
- **方式：** 线下/微信视频
- **时长：** 15-30分钟

### 会议格式

每人回答三个问题：

```
1. 昨天完成了什么？
   - 具体功能点
   - 遇到的问题
   - 解决方案

2. 今天计划做什么？
   - 具体任务
   - 预计完成时间
   - 需要的支持

3. 有什么阻碍吗？
   - 技术难点
   - 依赖其他人的工作
   - 需要帮助的地方
```

### 示例

```
工程师A:
昨天: 完成了JWT中间件开发，遇到token刷新的问题，已通过延长过期时间解决
今天: 开发文件上传功能，预计下午5点完成
问题: 需要确认前端上传组件的格式

工程师B:
昨天: 完成了登录页面，样式还需要调整
今天: 开发注册页面，完善登录页样式
问题: 需要后端提供用户头像上传接口

工程师C:
昨天: 完成了用户注册API和登录API，通过了10个单元测试
今天: 开发用户信息API和头像上传API
问题: 无
```

---

## 💻 代码规范

### Git分支策略

```
main         - 主分支（受保护，只能通过PR合并）
develop      - 开发分支（日常开发）
feature/*    - 功能分支（开发新功能）
bugfix/*     - 修复分支（修复bug）
hotfix/*     - 热修复分支（紧急修复）
```

### Git提交规范

```
类型(范围): 简短描述

详细描述（可选）

关联Issue（可选）

类型:
  feat:     新功能
  fix:      修复bug
  docs:     文档更新
  style:    代码格式（不影响功能）
  refactor: 重构
  perf:     性能优化
  test:     测试
  chore:    构建/工具

范围:
  auth:     认证相关
  novel:    小说相关
  user:     用户相关
  comment:  评论相关
  admin:    管理后台

示例:
feat(auth): 完成用户登录功能

- 实现JWT认证
- 添加密码加密
- 完成登录表单验证

Closes #123
```

### 代码提交流程

```bash
# 1. 拉取最新代码
git pull origin develop

# 2. 创建功能分支
git checkout -b feature/用户登录

# 3. 开发...

# 4. 提交代码
git add .
git commit -m "feat(auth): 完成用户登录功能"

# 5. 推送到远程
git push origin feature/用户登录

# 6. 合并到develop分支（小团队可直接合并）
git checkout develop
git merge feature/用户登录
git push origin develop
```

### 代码审查（Code Review）

**时间：** 每天 17:00  
**时长：** 30分钟  
**方式：** VS Code Live Share / 屏幕共享

**审查重点：**
- ✅ 代码规范（ESLint无错误）
- ✅ 功能完整（符合需求）
- ✅ 测试充分（关键功能有测试）
- ✅ 性能考虑（无明显瓶颈）
- ✅ 安全性（无明显漏洞）
- ✅ 可维护性（代码清晰）

---

## 📝 开发规范

### 命名规范

#### 前端（Vue 3）

```typescript
// 组件命名：PascalCase
NovelCard.vue
UserProfile.vue

// 文件命名：kebab-case
novel-card.vue
user-profile.vue

// 变量/函数：camelCase
const userName = 'test'
function getUserInfo() {}

// 常量：UPPER_SNAKE_CASE
const API_BASE_URL = 'http://localhost:3000'

// 类型/接口：PascalCase
interface UserInfo {}
type NovelStatus = 'draft' | 'published'
```

#### 后端（Fastify）

```typescript
// 文件命名：kebab-case
user.controller.ts
novel.service.ts

// 类命名：PascalCase
class UserService {}
class NovelController {}

// 变量/函数：camelCase
const userId = 1
async function createNovel() {}

// 常量：UPPER_SNAKE_CASE
const JWT_SECRET = 'xxx'
```

### 注释规范

```typescript
/**
 * 获取用户信息
 * @param userId 用户ID
 * @returns 用户信息对象
 * @throws 用户不存在错误
 */
async function getUserInfo(userId: number): Promise<UserInfo> {
  // 实现...
}
```

### 文件组织

```
一个文件不超过 300 行
一个函数不超过 50 行
一个组件不超过 200 行

如果超过，考虑拆分！
```

---

## 🧪 测试规范

### 单元测试

**覆盖率要求：**
- 核心业务逻辑：> 80%
- 工具函数：> 90%
- API接口：> 70%

**测试文件命名：**
```
src/utils/format.ts
  → tests/unit/utils/format.spec.ts

src/services/user.service.ts
  → tests/unit/services/user.service.spec.ts
```

### 集成测试

**测试场景：**
- 用户注册登录流程
- 小说发布阅读流程
- 评论发表流程

### E2E测试

**测试用户故事：**
- 新用户完整体验流程
- 作者发布小说流程
- 读者阅读评论流程

---

## 📊 进度管理

### 每日进度记录

**格式：** Markdown表格或Excel

| 日期 | 工程师 | 完成任务 | 遇到问题 | 明天计划 |
|------|--------|----------|----------|----------|
| 10-28 | 工程师A | JWT中间件 | 无 | 文件上传 |
| 10-28 | 工程师B | 登录页面 | 样式问题 | 注册页面 |
| 10-28 | 工程师C | 登录API | 无 | 用户API |

### 周总结会议

**时间：** 每周五 16:00 - 17:00

**议程：**
1. 本周完成情况（30分钟）
   - 各模块进度
   - 完成的功能
   - 代码统计

2. 问题与解决（15分钟）
   - 遇到的技术难点
   - 如何解决的
   - 经验总结

3. 下周计划（15分钟）
   - 下周要做什么
   - 重点难点
   - 需要的资源

---

## 🆘 问题升级机制

### Level 1: 自己解决（30分钟内）

- Google/百度搜索
- 查看官方文档
- 问AI助手

### Level 2: 求助团队（1小时内）

- 在微信群询问
- 同事互相帮助
- 屏幕共享调试

### Level 3: 升级到Leader（2小时内）

- @工程师A
- 团队讨论
- Leader做最终决策

### Level 4: 外部资源（半天内）

- 咨询外部专家
- 付费技术支持
- 调整技术方案

---

## 📞 沟通渠道

### 微信群（主要）

**用途：**
- 日常沟通
- 问题讨论
- 进度同步
- 紧急事项

**规则：**
- 重要信息@全体成员
- 代码相关发截图或代码片段
- 晚上22:00后非紧急事项不发

### 腾讯文档/飞书（文档协作）

**用途：**
- API接口文档
- 数据库设计文档
- 进度跟踪表
- 问题记录表

### GitHub/Gitee（代码管理）

**用途：**
- 代码托管
- 版本管理
- Issue跟踪
- Wiki文档

---

## ⚖️ 工作量平衡

### 任务分配原则

```
1. 专业对口：前端任务给工程师B，后端给工程师C
2. 负载均衡：每人每周工作量相当
3. 互相帮助：完成自己的任务后，帮助其他人
4. 技能提升：适当分配跨领域任务，提升能力
```

### 每周工作量目标

```
工程师A: 40小时/周（包括管理工作）
工程师B: 40小时/周（纯开发）
工程师C: 40小时/周（纯开发）
```

---

## 🎯 质量标准

### 代码质量

- ✅ ESLint无错误
- ✅ TypeScript无类型错误
- ✅ 通过Code Review
- ✅ 关键功能有测试

### 功能质量

- ✅ 符合需求
- ✅ 无明显bug
- ✅ 用户体验良好
- ✅ 性能达标

### 文档质量

- ✅ API文档完整
- ✅ 代码注释清晰
- ✅ README更新及时

---

## 🔒 安全规范

### 代码安全

```
❌ 不要在代码中硬编码密码
❌ 不要提交 .env 文件到Git
❌ 不要在日志中打印敏感信息
❌ 不要禁用安全检查

✅ 使用环境变量存储密钥
✅ 验证所有用户输入
✅ 使用参数化查询
✅ 实施权限检查
```

### 数据安全

```
✅ 用户密码必须加密（bcrypt）
✅ JWT token设置过期时间
✅ 敏感信息脱敏
✅ 定期备份数据库
```

---

## 🎓 技能提升

### 每周学习目标

**工程师A：**
- Week 1-2: 深入学习Fastify
- Week 3-4: 深入学习Prisma
- Week 5-6: 学习Redis
- Week 7-8: 学习Kubernetes（可选）

**工程师B：**
- Week 1-2: 深入学习Vue 3 Composition API
- Week 3-4: 深入学习TypeScript
- Week 5-6: 学习性能优化
- Week 7-8: 学习Webpack/Vite原理

**工程师C：**
- Week 1-2: 深入学习Prisma ORM
- Week 3-4: 深入学习MySQL优化
- Week 5-6: 学习Redis缓存策略
- Week 7-8: 学习Node.js性能优化

---

## 📅 会议安排

### 晨会（每天）

- **时间：** 09:00 - 09:30
- **时长：** 15-30分钟
- **内容：** 昨天+今天+问题

### 周会（每周五）

- **时间：** 16:00 - 17:00
- **时长：** 1小时
- **内容：** 进度+问题+计划

### 技术分享（每两周）

- **时间：** 周五下午（可选）
- **内容：** 分享学到的新技术

---

## 🏆 激励机制

### 里程碑奖励

```
✅ Week 2: 认证系统完成 → 团队聚餐
✅ Week 4: 核心功能完成 → 下午茶
✅ Week 6: 功能开发完成 → 团建活动
✅ Week 8: 项目上线成功 → 🎉 庆功宴
```

### 个人激励

```
✅ 代码质量最佳 → 表扬
✅ Bug最少 → 奖励
✅ 按时完成任务 → 认可
```

---

## 🔄 变更管理

### 需求变更流程

```
1. 提出变更 → 记录在文档中
2. 评估影响 → Leader评估工作量
3. 团队讨论 → 是否接受变更
4. 调整计划 → 更新任务分配
5. 实施变更 → 按新计划执行
```

### 技术方案变更

```
1. 发现问题 → 提出新方案
2. 技术评审 → 团队讨论
3. Leader决策 → 最终确定
4. 实施变更 → 按新方案执行
```

---

## 🎯 团队文化

### 核心价值观

```
1. 质量第一 - 宁可慢一点，也要保证质量
2. 互相帮助 - 团队成功才是真正的成功
3. 持续学习 - 每天都要有进步
4. 积极沟通 - 有问题及时说
5. 按时交付 - 说到做到
```

### 工作氛围

```
✅ 轻松友好的氛围
✅ 鼓励提问和讨论
✅ 容忍失败，鼓励尝试
✅ 庆祝小成功
❌ 不指责个人
❌ 不加班文化（除非紧急）
```

---

## 📞 联系方式

### 紧急联系

```
项目紧急事项: @工程师A
服务器故障: @工程师A
前端紧急bug: @工程师B
后端紧急bug: @工程师C

工作时间外紧急事项: 电话联系
```

### 工作时间外

```
非紧急事项: 微信留言，第二天回复
紧急事项: 电话联系
服务器故障: 立即电话联系工程师A
```

---

## 📊 绩效考核（可选）

### 考核维度

```
1. 任务完成度 (40%)
   - 是否按时完成任务
   - 完成质量如何

2. 代码质量 (30%)
   - 代码规范性
   - Bug数量
   - 测试覆盖率

3. 团队协作 (20%)
   - 代码评审参与度
   - 帮助他人情况
   - 沟通效率

4. 创新贡献 (10%)
   - 提出的优化建议
   - 技术创新
   - 流程改进
```

---

## ✅ 团队承诺

**我们承诺：**
- ✅ 按时完成任务
- ✅ 保证代码质量
- ✅ 积极沟通协作
- ✅ 持续学习进步
- ✅ 8周后交付高质量产品

**签名：**
- 工程师A: __________
- 工程师B: __________
- 工程师C: __________

**日期：** 2025-10-27

---

**让我们一起努力，打造优秀的产品！** 🚀

