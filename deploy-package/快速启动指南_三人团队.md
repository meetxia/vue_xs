# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å— - ä¸‰äººå›¢é˜Ÿç‰ˆ

**ç«‹å³å¼€å§‹ï¼š** æœ¬æ–‡æ¡£å¸®åŠ©å›¢é˜Ÿåœ¨**1å¤©å†…**å®Œæˆç¯å¢ƒæ­å»ºï¼Œæ­£å¼å¼€å§‹å¼€å‘ï¼

---

## ğŸ“‹ å¼€å§‹å‰çš„å‡†å¤‡æ¸…å•

### âœ… å›¢é˜Ÿç¡®è®¤

- [ ] ç¡®è®¤3ä½å·¥ç¨‹å¸ˆåˆ°ä½
- [ ] æ˜ç¡®è§’è‰²åˆ†å·¥ï¼ˆå·¥ç¨‹å¸ˆA/B/Cï¼‰
- [ ] å»ºç«‹å¾®ä¿¡/é’‰é’‰æ²Ÿé€šç¾¤
- [ ] åˆ›å»ºGitä»£ç ä»“åº“

### âœ… æœåŠ¡å™¨å‡†å¤‡

- [ ] é˜¿é‡Œäº‘æœåŠ¡å™¨å·²è´­ä¹°ï¼ˆ2æ ¸4Gèµ·ï¼‰
- [ ] æœåŠ¡å™¨IPåœ°å€ï¼š`____________`
- [ ] æœåŠ¡å™¨rootå¯†ç ï¼š`____________`
- [ ] åŸŸåå·²å¤‡æ¡ˆï¼š`xs.momofx.cn`

### âœ… æ•°æ®åº“ä¿¡æ¯

```
æ•°æ®åº“ç±»å‹ï¼šMySQL 8.0
æ•°æ®åº“åï¼šmomo_novel_db
ç”¨æˆ·åï¼štoefl_user
å¯†ç ï¼šmojz168168
```

---

## ğŸ¯ Day 1ï¼šç¯å¢ƒæ­å»ºï¼ˆå…¨å‘˜ï¼‰

### ä¸Šåˆï¼ˆ09:00-12:00ï¼‰

#### Step 1: å®‰è£…å®å¡”é¢æ¿ï¼ˆå·¥ç¨‹å¸ˆAï¼‰

```bash
# 1. SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh root@ä½ çš„æœåŠ¡å™¨IP

# 2. å®‰è£…å®å¡”é¢æ¿ï¼ˆCentOS 7ï¼‰
yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh

# 3. è®°å½•å®å¡”é¢æ¿åœ°å€å’Œè´¦å·å¯†ç 
# é¢æ¿åœ°å€: http://ä½ çš„IP:8888/xxxxxxxx
# ç”¨æˆ·å: xxxxxxxx
# å¯†ç : xxxxxxxx

# 4. ç™»å½•å®å¡”é¢æ¿
# æµè§ˆå™¨æ‰“å¼€é¢æ¿åœ°å€ï¼Œè¾“å…¥è´¦å·å¯†ç 
```

#### Step 2: å®‰è£…è½¯ä»¶ï¼ˆå·¥ç¨‹å¸ˆAï¼‰

åœ¨å®å¡”é¢æ¿ä¸­å®‰è£…ï¼š

```
â˜‘ Nginx 1.22
â˜‘ MySQL 8.0
â˜‘ Redis 7.0
â˜‘ PM2ç®¡ç†å™¨
â˜‘ Node.js 18.x
```

**é¢„è®¡è€—æ—¶ï¼š** 30-60åˆ†é’Ÿï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰

#### Step 3: åˆ›å»ºæ•°æ®åº“ï¼ˆå·¥ç¨‹å¸ˆAï¼‰

1. å®å¡”é¢æ¿ â†’ æ•°æ®åº“ â†’ æ·»åŠ æ•°æ®åº“
2. å¡«å†™ï¼š
   ```
   æ•°æ®åº“åï¼šmomo_novel_db
   ç”¨æˆ·åï¼štoefl_user
   å¯†ç ï¼šmojz168168
   ```
3. æäº¤

#### Step 4: æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆå·¥ç¨‹å¸ˆBã€Cï¼‰

**å®‰è£…å¿…è¦è½¯ä»¶ï¼š**

```bash
# 1. å®‰è£…Node.js 18.x
# è®¿é—® https://nodejs.org/
# ä¸‹è½½å¹¶å®‰è£… LTSç‰ˆæœ¬

# 2. éªŒè¯å®‰è£…
node -v  # åº”æ˜¾ç¤º v18.x.x
npm -v   # åº”æ˜¾ç¤º 9.x.x

# 3. å®‰è£…å…¨å±€å·¥å…·
npm install -g typescript ts-node pnpm

# 4. é…ç½®npmå›½å†…é•œåƒï¼ˆå¯é€‰ï¼‰
npm config set registry https://registry.npmmirror.com
```

**å®‰è£…å¼€å‘å·¥å…·ï¼š**

- [ ] VS Codeï¼ˆæ¨èï¼‰
- [ ] Git
- [ ] Postmanï¼ˆAPIæµ‹è¯•ï¼‰
- [ ] MySQL Workbenchï¼ˆæ•°æ®åº“ç®¡ç†ï¼Œå¯é€‰ï¼‰

**VS Codeæ’ä»¶ï¼š**

```
å¿…è£…æ’ä»¶ï¼š
- Vue Language Features (Volar)
- TypeScript Vue Plugin (Volar)
- ESLint
- Prettier
- Prisma

æ¨èæ’ä»¶ï¼š
- GitLens
- Auto Rename Tag
- Path Intellisense
- REST Client
```

---

### ä¸‹åˆï¼ˆ13:30-18:00ï¼‰

#### Step 5: åˆ›å»ºé¡¹ç›®ç»“æ„ï¼ˆå·¥ç¨‹å¸ˆAï¼‰

```bash
# 1. åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•
mkdir momo-novel-v2
cd momo-novel-v2

# 2. åˆå§‹åŒ–Gitä»“åº“
git init
git remote add origin <ä½ çš„ä»“åº“åœ°å€>

# 3. åˆ›å»º .gitignore
cat > .gitignore << 'EOF'
# ä¾èµ–
node_modules/
.pnp
.pnp.js

# æµ‹è¯•
coverage/

# ç”Ÿäº§
dist/
build/

# ç¯å¢ƒå˜é‡
.env
.env.local
.env.production

# æ—¥å¿—
logs/
*.log
npm-debug.log*

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Prisma
prisma/migrations/*_*
EOF

# 4. åˆ›å»ºé¡¹ç›®ç»“æ„
mkdir -p frontend backend docs scripts
```

#### Step 6: åˆå§‹åŒ–å‰ç«¯é¡¹ç›®ï¼ˆå·¥ç¨‹å¸ˆBï¼‰

```bash
# 1. åˆ›å»ºVue 3é¡¹ç›®
cd frontend
npm create vite@latest . -- --template vue-ts

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å®‰è£…UIæ¡†æ¶
npm install element-plus @element-plus/icons-vue

# 4. å®‰è£…Tailwind CSS
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p

# 5. å®‰è£…å…¶ä»–ä¾èµ–
npm install vue-router pinia axios
npm install @vueuse/core  # Vueç»„åˆå¼å·¥å…·åº“

# 6. å®‰è£…å¼€å‘ä¾èµ–
npm install -D @types/node
npm install -D eslint prettier
npm install -D vitest @vue/test-utils

# 7. å¯åŠ¨å¼€å‘æœåŠ¡å™¨æµ‹è¯•
npm run dev
# è®¿é—® http://localhost:5188
```

**é…ç½®Tailwind CSSï¼š**

```javascript
// tailwind.config.js
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{vue,js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        'xhs-red': '#FE2C55',
        'beige': '#F5E6D3',
        'beige-light': '#FAF5F0',
      }
    },
  },
  plugins: [],
}
```

```css
/* src/assets/style.css */
@tailwind base;
@tailwind components;
@tailwind utilities;
```

#### Step 7: åˆå§‹åŒ–åç«¯é¡¹ç›®ï¼ˆå·¥ç¨‹å¸ˆCï¼‰

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd ../backend

# 2. åˆå§‹åŒ–package.json
npm init -y

# 3. å®‰è£…æ ¸å¿ƒä¾èµ–
npm install fastify @fastify/cors @fastify/jwt @fastify/multipart
npm install @prisma/client bcrypt jsonwebtoken
npm install dotenv ioredis

# 4. å®‰è£…å¼€å‘ä¾èµ–
npm install -D typescript @types/node ts-node nodemon
npm install -D prisma
npm install -D @types/bcrypt @types/jsonwebtoken

# 5. åˆå§‹åŒ–TypeScript
npx tsc --init

# 6. åˆå§‹åŒ–Prisma
npx prisma init

# 7. åˆ›å»ºé¡¹ç›®ç»“æ„
mkdir -p src/{controllers,services,routes,middlewares,utils,types}
mkdir -p tests/{unit,integration}
mkdir -p scripts
```

**é…ç½®package.jsonï¼š**

```json
{
  "name": "momo-novel-backend",
  "version": "1.0.0",
  "scripts": {
    "dev": "nodemon --exec ts-node src/server.ts",
    "build": "tsc",
    "start": "node dist/server.js",
    "prisma:generate": "prisma generate",
    "prisma:migrate": "prisma migrate dev",
    "prisma:studio": "prisma studio",
    "test": "vitest"
  }
}
```

**é…ç½®tsconfig.jsonï¼š**

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "moduleResolution": "node",
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

#### Step 8: é…ç½®Prisma Schemaï¼ˆå·¥ç¨‹å¸ˆCï¼‰

```prisma
// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// ç”¨æˆ·è¡¨ï¼ˆç®€åŒ–ç‰ˆï¼Œå…ˆæµ‹è¯•è¿æ¥ï¼‰
model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique @db.VarChar(50)
  email     String   @unique @db.VarChar(100)
  password  String   @db.VarChar(255)
  createdAt DateTime @default(now()) @db.DateTime(0)
  updatedAt DateTime @updatedAt @db.DateTime(0)

  @@map("users")
}
```

**é…ç½®.envï¼š**

```bash
# backend/.env
NODE_ENV=development
PORT=3000

# æ•°æ®åº“è¿æ¥ï¼ˆä½¿ç”¨ä½ çš„æœåŠ¡å™¨IPï¼‰
DATABASE_URL="mysql://toefl_user:mojz168168@localhost:3306/momo_novel_db"

# å¦‚æœåœ¨æœ¬åœ°å¼€å‘ï¼Œè¿æ¥è¿œç¨‹æ•°æ®åº“ï¼š
# DATABASE_URL="mysql://toefl_user:mojz168168@ä½ çš„æœåŠ¡å™¨IP:3306/momo_novel_db"

JWT_SECRET=your-super-secret-key-change-in-production

REDIS_HOST=localhost
REDIS_PORT=6379
```

**æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š**

```bash
# ç”ŸæˆPrisma Client
npx prisma generate

# åˆ›å»ºæ•°æ®åº“è¡¨
npx prisma db push

# æ‰“å¼€Prisma StudioæŸ¥çœ‹æ•°æ®åº“
npx prisma studio
# è®¿é—® http://localhost:5555
```

#### Step 9: åˆ›å»ºåŸºç¡€æœåŠ¡å™¨ï¼ˆå·¥ç¨‹å¸ˆCï¼‰

```typescript
// src/server.ts
import Fastify from 'fastify'
import cors from '@fastify/cors'
import { PrismaClient } from '@prisma/client'

const fastify = Fastify({
  logger: true
})

const prisma = new PrismaClient()

// æ³¨å†ŒCORS
fastify.register(cors, {
  origin: true
})

// å¥åº·æ£€æŸ¥
fastify.get('/api/health', async (request, reply) => {
  return { 
    status: 'ok',
    timestamp: new Date().toISOString()
  }
})

// æµ‹è¯•æ•°æ®åº“è¿æ¥
fastify.get('/api/test-db', async (request, reply) => {
  try {
    const userCount = await prisma.user.count()
    return {
      success: true,
      message: 'æ•°æ®åº“è¿æ¥æˆåŠŸ',
      userCount
    }
  } catch (error: any) {
    return {
      success: false,
      message: 'æ•°æ®åº“è¿æ¥å¤±è´¥',
      error: error.message
    }
  }
})

// å¯åŠ¨æœåŠ¡å™¨
const start = async () => {
  try {
    await fastify.listen({ 
      port: Number(process.env.PORT) || 3000,
      host: '0.0.0.0'
    })
    console.log(`ğŸš€ Server is running on http://localhost:3000`)
  } catch (err) {
    fastify.log.error(err)
    process.exit(1)
  }
}

start()
```

**å¯åŠ¨æµ‹è¯•ï¼š**

```bash
# å¯åŠ¨åç«¯æœåŠ¡
npm run dev

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯æµ‹è¯•
curl http://localhost:3000/api/health
curl http://localhost:3000/api/test-db
```

---

## ğŸ‰ Day 1 å®Œæˆæ£€æŸ¥æ¸…å•

### æœåŠ¡å™¨ç¯å¢ƒï¼ˆå·¥ç¨‹å¸ˆAï¼‰

- [ ] âœ… å®å¡”é¢æ¿å®‰è£…æˆåŠŸ
- [ ] âœ… Nginxã€MySQLã€Rediså·²å®‰è£…
- [ ] âœ… æ•°æ®åº“åˆ›å»ºæˆåŠŸ
- [ ] âœ… æ•°æ®åº“å¯è¿œç¨‹è¿æ¥

### å‰ç«¯ç¯å¢ƒï¼ˆå·¥ç¨‹å¸ˆBï¼‰

- [ ] âœ… Vue 3é¡¹ç›®åˆ›å»ºæˆåŠŸ
- [ ] âœ… å¼€å‘æœåŠ¡å™¨å¯å¯åŠ¨
- [ ] âœ… Tailwind CSSé…ç½®å®Œæˆ
- [ ] âœ… Element Pluså¯ç”¨

### åç«¯ç¯å¢ƒï¼ˆå·¥ç¨‹å¸ˆCï¼‰

- [ ] âœ… Fastifyé¡¹ç›®åˆ›å»ºæˆåŠŸ
- [ ] âœ… Prismaè¿æ¥æ•°æ®åº“æˆåŠŸ
- [ ] âœ… æœåŠ¡å™¨å¯å¯åŠ¨
- [ ] âœ… APIæ¥å£å¯è®¿é—®

### å›¢é˜Ÿåä½œ

- [ ] âœ… Gitä»“åº“åˆ›å»º
- [ ] âœ… ä»£ç å·²æäº¤
- [ ] âœ… æ²Ÿé€šç¾¤å»ºç«‹
- [ ] âœ… ä»»åŠ¡åˆ†å·¥æ˜ç¡®

---

## ğŸš€ Day 2ï¼šå¼€å§‹å¼€å‘

### æ™¨ä¼šï¼ˆ09:00-09:30ï¼‰

**å·¥ç¨‹å¸ˆAï¼š**
- ä»Šå¤©å®Œæˆè®¤è¯ä¸­é—´ä»¶
- è®¾è®¡APIæ¥å£è§„èŒƒ
- è¯„å®¡å…¶ä»–äººçš„ä»£ç 

**å·¥ç¨‹å¸ˆBï¼š**
- ä»Šå¤©å®Œæˆç™»å½•æ³¨å†Œé¡µé¢
- å¼€å‘å…¬å…±ç»„ä»¶
- é…ç½®è·¯ç”±ç³»ç»Ÿ

**å·¥ç¨‹å¸ˆCï¼š**
- ä»Šå¤©å®Œæˆç”¨æˆ·æ³¨å†Œç™»å½•API
- æ•°æ®åº“è¡¨ç»“æ„å®Œå–„
- ç¼–å†™APIæ–‡æ¡£

### å¹¶è¡Œå¼€å‘

```
09:30-12:00  ä¸“æ³¨å¼€å‘
12:00-13:30  åˆä¼‘
13:30-17:00  ç»§ç»­å¼€å‘ + è”è°ƒ
17:00-17:30  ä»£ç è¯„å®¡ + æäº¤
```

---

## ğŸ“š å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### å‰ç«¯ï¼ˆå·¥ç¨‹å¸ˆBï¼‰

```bash
# å¼€å‘
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build        # ç”Ÿäº§æ„å»º
npm run preview      # é¢„è§ˆç”Ÿäº§æ„å»º

# æµ‹è¯•
npm run test         # è¿è¡Œæµ‹è¯•
npm run test:ui      # æµ‹è¯•UIç•Œé¢

# ä»£ç æ£€æŸ¥
npm run lint         # ESLintæ£€æŸ¥
npm run format       # Prettieræ ¼å¼åŒ–
```

### åç«¯ï¼ˆå·¥ç¨‹å¸ˆCï¼‰

```bash
# å¼€å‘
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build        # TypeScriptç¼–è¯‘
npm start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# æ•°æ®åº“
npx prisma generate  # ç”ŸæˆPrisma Client
npx prisma migrate dev  # åˆ›å»ºè¿ç§»
npx prisma db push   # åŒæ­¥æ•°æ®åº“ï¼ˆå¼€å‘ï¼‰
npx prisma studio    # æ‰“å¼€æ•°æ®åº“ç®¡ç†ç•Œé¢

# æµ‹è¯•
npm test             # è¿è¡Œæµ‹è¯•
```

### Gitæ“ä½œ

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/ç”¨æˆ·ç™»å½•

# æäº¤ä»£ç 
git add .
git commit -m "feat: å®Œæˆç”¨æˆ·ç™»å½•åŠŸèƒ½"
git push origin feature/ç”¨æˆ·ç™»å½•

# åˆå¹¶åˆ°ä¸»åˆ†æ”¯
git checkout main
git merge feature/ç”¨æˆ·ç™»å½•
git push origin main
```

---

## ğŸ†˜ å¸¸è§é—®é¢˜è§£å†³

### Q1: æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥MySQLæ˜¯å¦å¯åŠ¨
# å®å¡”é¢æ¿ â†’ è½¯ä»¶å•†åº— â†’ MySQL â†’ è®¾ç½® â†’ æœåŠ¡çŠ¶æ€

# æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
# å®å¡”é¢æ¿ â†’ å®‰å…¨ â†’ æ”¾è¡Œç«¯å£3306

# æ£€æŸ¥DATABASE_URLæ˜¯å¦æ­£ç¡®
# backend/.env
```

### Q2: å‰ç«¯æ— æ³•è®¿é—®åç«¯API

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨
# è®¿é—® http://localhost:3000/api/health

# æ£€æŸ¥CORSé…ç½®
# src/server.ts ä¸­çš„ cors é…ç½®

# æ£€æŸ¥é˜²ç«å¢™
```

### Q3: Prisma Clientç”Ÿæˆå¤±è´¥

```bash
# åˆ é™¤node_moduleså’Œpackage-lock.json
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…
npm install

# é‡æ–°ç”Ÿæˆ
npx prisma generate
```

### Q4: TypeScriptæŠ¥é”™

```bash
# æ£€æŸ¥tsconfig.jsoné…ç½®
# å®‰è£…ç¼ºå¤±çš„ç±»å‹å®šä¹‰
npm install -D @types/node

# é‡å¯VS Codeçš„TypeScriptæœåŠ¡
# VS Code: Ctrl+Shift+P â†’ TypeScript: Restart TS Server
```

---

## ğŸ“ å›¢é˜Ÿè”ç³»æ–¹å¼

**å·¥ç¨‹å¸ˆAï¼ˆLeaderï¼‰ï¼š**
- å¾®ä¿¡/ç”µè¯ï¼š____________
- è´Ÿè´£ï¼šæ¶æ„ã€æ ¸å¿ƒæ¨¡å—ã€ç–‘éš¾é—®é¢˜

**å·¥ç¨‹å¸ˆBï¼ˆå‰ç«¯ï¼‰ï¼š**
- å¾®ä¿¡/ç”µè¯ï¼š____________
- è´Ÿè´£ï¼šæ‰€æœ‰å‰ç«¯é¡µé¢å’Œç»„ä»¶

**å·¥ç¨‹å¸ˆCï¼ˆåç«¯ï¼‰ï¼š**
- å¾®ä¿¡/ç”µè¯ï¼š____________
- è´Ÿè´£ï¼šæ‰€æœ‰åç«¯APIå’Œæ•°æ®åº“

**å¾®ä¿¡ç¾¤ï¼š** ____________

---

## ğŸ¯ ä¸‹ä¸€æ­¥

Day 1å®Œæˆåï¼Œå‚è€ƒï¼š
- ğŸ“„ `ä¸‰äººå›¢é˜Ÿé‡æ„å®æ–½è®¡åˆ’_å®å¡”MySQLç‰ˆ.md` - å®Œæ•´8å‘¨è®¡åˆ’
- ğŸ“„ `æŠ€æœ¯é‡æ„æ·±åº¦åˆ†ææ–¹æ¡ˆ.md` - æŠ€æœ¯ç»†èŠ‚

**å¼€å§‹è¡ŒåŠ¨å§ï¼** ğŸš€

